import{a3 as l,j as e,a0 as N,B as a,m as F}from"./index-XzM8Cj3c.js";import{C as g,U as C,u as m}from"./useFetchAmenities-B1wmz0Bc.js";import{u as d}from"./useMutation-CNNl5TnA.js";import{F as o}from"./index-BLf5ALDk.js";import{I as w}from"./index-Vt2X7eqz.js";import{R as c}from"./PlusOutlined-Dj0tFLrA.js";import{U as E}from"./index-DpVHb5nB.js";import{s as n}from"./index-Yvuj0Esb.js";import{F as b}from"./Table-Dv9gfO7j.js";import{P as I}from"./index-CXwmGbA0.js";import{R as v}from"./DeleteOutlined-Ke0rSpX_.js";import"./useQuery-Beh9q-Hu.js";import"./useForm-EwlPOCpB.js";import"./row-CTTWbxgc.js";import"./index-BfZvbS5e.js";import"./ExclamationCircleFilled-D7dRXMD9.js";import"./Input-BUj1c9yh.js";import"./SearchOutlined-B0571LVy.js";import"./EyeOutlined-BVmecd_y.js";import"./fade-_qbex92f.js";import"./DownloadOutlined-D_mskBw8.js";import"./progress-DW_vC4dS.js";import"./InfoCircleFilled-Ce5_6Fhy.js";import"./addEventListener-kraIZfrw.js";import"./index-Ci-vNBFy.js";import"./index-V8rTfzId.js";import"./useBubbleLock-B-1WFybW.js";import"./index-BZS9dDwd.js";import"./extendsObject-78o_rR5W.js";import"./ActionButton-DmSr_qh1.js";const D=()=>{const i=l();return d({mutationKey:["CreateAmenities"],mutationFn:t=>{if(!t)throw new Error("Payload is required to create Amenites");return g(t)},onSuccess:t=>{console.log("cretae amenities successfully",t),i.invalidateQueries(["amenitiesList"])},onError:t=>{console.error("Create amenity error",t)}})},P=()=>{const i=l();return d({mutationKey:["DeleteAmenities"],mutationFn:t=>{if(!t)throw new Error("Payload is required to delete Amenites");return C(t)},onSuccess:t=>{console.log("delete amenities successfully",t),i.invalidateQueries(["amenitiesList"])},onError:t=>{console.error("Create amenity error",t)}})};function oe(){const[i]=o.useForm(),{data:t,isLoading:u}=m(),p=t?.result?.map(s=>({key:s.id,name:s.amenities_name,status:s.status}))||[],{mutate:y}=D(),{refetch:x}=m(),f=s=>{if(!s.name){n.error("Please enter an Amenities name.");return}const r={amentiesName:s.name};y(r,{onSuccess:()=>{n.success("Amenity added successfully!"),i.resetFields(),x()},onError:()=>{n.error("Failed to add amenity. Please try again.")}})},{mutate:h}=P(),A=s=>{h({id:s,status:0},{onSuccess:()=>{n.success("Amenities deleted successfully")},onError:()=>{n.error("Failed to  deleted  Amenities")}}),console.log("delete key",s)},j=[{title:"Amenities List",dataIndex:"name",key:"name",render:(s,r)=>e.jsx("div",{className:"amenity-item",children:r.name})},{title:"",dataIndex:"actions",key:"actions",render:(s,r)=>e.jsxs("div",{className:"action-buttons",children:[e.jsx(a,{type:"text",icon:e.jsx(F,{})}),e.jsx(I,{title:"Are you sure to delete?",onConfirm:()=>A(r.key),okText:"Yes",cancelText:"No",children:e.jsx(a,{type:"text",danger:!0,icon:e.jsx(v,{})})})]})}];return e.jsx(N,{size:"large",spinning:u,children:e.jsxs("div",{className:"amenities-container",children:[e.jsxs("div",{className:"header",children:[e.jsx("div",{className:"amenity-wrapper",children:e.jsxs(o,{form:i,layout:"vertical",onFinish:f,className:"amenities-form",children:[e.jsx("div",{className:"input-container",children:e.jsx(o.Item,{name:"name",label:"Enter Amenities Name",rules:[{required:!0,message:"Enter Amenities name"}],children:e.jsx(w,{placeholder:"Enter Amenities Name*",className:"input-box"})})}),e.jsx(o.Item,{className:"add-button-wrapper",children:e.jsx(a,{type:"primary",htmlType:"submit",icon:e.jsx(c,{}),className:"add-button",children:"ADD Amenities"})})]})}),e.jsx(E,{showUploadList:!1,beforeUpload:()=>(n.success("File uploaded"),!1),children:e.jsx(a,{type:"primary",icon:e.jsx(c,{}),className:"upload-button",children:"Upload Amenities"})})]}),e.jsx(b,{columns:j,dataSource:p,pagination:{pageSize:10},rowClassName:()=>"amenity-row"})]})})}export{oe as default};
