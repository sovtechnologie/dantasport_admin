import{a as E,b as $,r as i,j as e,B as v,bX as g,T as I,a4 as u}from"./index-XzM8Cj3c.js";/* empty css                  */import{a as q}from"./useFetchvendorVenues-D949lnpY.js";import{m as L}from"./endpointApi-DBrVeqMh.js";import{h as w}from"./moment-C5S46NFB.js";import{F as l}from"./index-BLf5ALDk.js";import{s as d}from"./index-Yvuj0Esb.js";import{R as O}from"./ArrowLeftOutlined-DMqiT_4K.js";import{C as N}from"./index-C1XA4k9t.js";import{R,C as m}from"./row-CTTWbxgc.js";import{S as j}from"./index-Ci-vNBFy.js";import{a as V,R as M}from"./ThunderboltOutlined-BG6SsWoO.js";import{T as z}from"./index-DdiLVOL9.js";import{C as _}from"./index-V8rTfzId.js";import{R as F}from"./InfoCircleOutlined-CNvn_1iY.js";import{T as X}from"./index-B9zQjaED.js";import"./useQuery-Beh9q-Hu.js";import"./useMutation-CNNl5TnA.js";import"./useForm-EwlPOCpB.js";import"./ExclamationCircleFilled-D7dRXMD9.js";import"./InfoCircleFilled-Ce5_6Fhy.js";import"./SearchOutlined-B0571LVy.js";import"./Skeleton-BxJpOdZN.js";import"./PlusOutlined-Dj0tFLrA.js";import"./index-BfZvbS5e.js";import"./index-B_VpdSuJ.js";import"./useBubbleLock-B-1WFybW.js";import"./useClosable-B4NhgZhJ.js";import"./extendsObject-78o_rR5W.js";const{Option:f}=j;function ke(){const[p]=l.useForm(),y=E(),H=$(s=>s.auth.user.id),[r,b]=i.useState(null),[x,S]=i.useState(!1),[t,h]=i.useState({monday:!1,tuesday:!1,wednesday:!1,thursday:!1,friday:!1,saturday:!1,sunday:!1}),{data:o,loading:T,error:k}=q(H);i.useEffect(()=>{o?.result?.length&&!r&&b(o.result[0].Id)},[o,r]),i.useEffect(()=>{k&&d.error("Failed to load gym list")},[k]);const G=i.useCallback(async s=>{try{if(S(!0),console.log("Form Values:",s),!Object.values(t).some(A=>A)){d.error("Please select at least one day");return}const n={gymId:r,startTime:s.startTime.format("HH:mm"),endTime:s.endTime.format("HH:mm"),days_schedule:s.scheduleType==="daily"?1:0,monday:t.monday,tuesday:t.tuesday,wednesday:t.wednesday,thursday:t.thursday,friday:t.friday,saturday:t.saturday,sunday:t.sunday};console.log("API payload:",n);const c=await L(n);console.log("API Response:",c),c.status===200||c.status===201?(d.success("Gym time slot added successfully!"),p.resetFields(),h({monday:!1,tuesday:!1,wednesday:!1,thursday:!1,friday:!1,saturday:!1,sunday:!1}),y("/vendor/gym/timeslots")):d.error(c.message||"Failed to add gym time slot")}catch(a){console.error("Error adding gym time slot:",a),d.error(a.response?.data?.message||"Failed to add gym time slot. Please try again.")}finally{S(!1)}},[r,t,y]),W=s=>{b(s),p.setFieldsValue({selectGym:s})},C=(s,a)=>{h(n=>({...n,[s]:a}))},B=s=>{s==="daily"&&h({monday:!0,tuesday:!0,wednesday:!0,thursday:!0,friday:!0,saturday:!0,sunday:!0})},D=()=>{y("/vendor/gym/timeslots")},P=[{key:"monday",label:"Monday"},{key:"tuesday",label:"Tuesday"},{key:"wednesday",label:"Wednesday"},{key:"thursday",label:"Thursday"},{key:"friday",label:"Friday"},{key:"saturday",label:"Saturday"},{key:"sunday",label:"Sunday"}];return e.jsxs("div",{className:"add-member-container",children:[e.jsxs("div",{style:{background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",borderRadius:"16px",padding:"24px",marginBottom:"24px",color:"white",boxShadow:"0 8px 32px rgba(102, 126, 234, 0.3)"},children:[e.jsx("div",{style:{display:"flex",alignItems:"center",gap:"16px",marginBottom:"16px"},children:e.jsx(v,{type:"text",icon:e.jsx(O,{}),onClick:D,style:{color:"white",background:"rgba(255, 255, 255, 0.1)",border:"1px solid rgba(255, 255, 255, 0.2)",borderRadius:"8px",height:"40px",padding:"0 16px"},children:"Back to Time Slots"})}),e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"16px"},children:[e.jsx("div",{style:{width:"64px",height:"64px",borderRadius:"16px",background:"rgba(255, 255, 255, 0.2)",display:"flex",alignItems:"center",justifyContent:"center"},children:e.jsx(g,{style:{fontSize:"32px",color:"white"}})}),e.jsxs("div",{children:[e.jsx("h2",{style:{margin:0,fontSize:"28px",fontWeight:"700",color:"white"},children:"Add New Time Slot"}),e.jsx("p",{style:{margin:"8px 0 0 0",fontSize:"16px",opacity:.9,color:"white"},children:"Configure operating hours for your gym"})]})]})]}),e.jsx(N,{style:{borderRadius:"16px",boxShadow:"0 4px 20px rgba(0, 0, 0, 0.08)",border:"1px solid #f0f0f0"},children:e.jsxs(l,{layout:"vertical",onFinish:G,form:p,initialValues:{selectGym:r,scheduleType:"custom",startTime:w("06:00","HH:mm"),endTime:w("18:00","HH:mm")},children:[e.jsxs("div",{style:{textAlign:"center",marginBottom:"32px",padding:"20px 0"},children:[e.jsx(I.Title,{level:2,style:{margin:0,color:"#1f2937",fontSize:"24px",fontWeight:"600"},children:"Time Slot Configuration"}),e.jsx(I.Text,{style:{color:"#6b7280",fontSize:"16px"},children:"Set up your gym's operating schedule"})]}),e.jsxs(R,{gutter:[24,24],children:[e.jsx(m,{xs:24,md:12,children:e.jsx(l.Item,{name:"selectGym",label:e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[e.jsx(u,{style:{color:"#1163C7"}}),e.jsx("span",{style:{fontWeight:"600",color:"#374151"},children:"Select Gym"})]}),rules:[{required:!0,message:"Please select a gym"}],children:e.jsx(j,{placeholder:"Choose a gym",size:"large",loading:T,onChange:W,disabled:T||!o?.result?.length,style:{borderRadius:"8px"},children:o?.result?.map(s=>e.jsx(f,{value:s.Id,children:s.gym_name},s.Id))})})}),e.jsx(m,{xs:24,md:12,children:e.jsx(l.Item,{name:"scheduleType",label:e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[e.jsx(M,{style:{color:"#1163C7"}}),e.jsx("span",{style:{fontWeight:"600",color:"#374151"},children:"Schedule Type"})]}),rules:[{required:!0,message:"Please select schedule type"}],children:e.jsxs(j,{placeholder:"Choose schedule type",size:"large",onChange:B,style:{borderRadius:"8px"},children:[e.jsx(f,{value:"custom",children:e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[e.jsx(u,{}),"Custom Days"]})}),e.jsx(f,{value:"daily",children:e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[e.jsx(V,{}),"Daily (All Days)"]})})]})})})]}),e.jsxs(R,{gutter:[24,24],children:[e.jsx(m,{xs:24,md:12,children:e.jsx(l.Item,{name:"startTime",label:e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[e.jsx(g,{style:{color:"#1163C7"}}),e.jsx("span",{style:{fontWeight:"600",color:"#374151"},children:"Start Time"})]}),rules:[{required:!0,message:"Please select start time"}],children:e.jsx(z,{format:"HH:mm",size:"large",style:{width:"100%",borderRadius:"8px"},placeholder:"Select start time"})})}),e.jsx(m,{xs:24,md:12,children:e.jsx(l.Item,{name:"endTime",label:e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[e.jsx(g,{style:{color:"#1163C7"}}),e.jsx("span",{style:{fontWeight:"600",color:"#374151"},children:"End Time"})]}),rules:[{required:!0,message:"Please select end time"}],children:e.jsx(z,{format:"HH:mm",size:"large",style:{width:"100%",borderRadius:"8px"},placeholder:"Select end time"})})})]}),e.jsx("div",{style:{marginBottom:"32px"},children:e.jsxs(l.Item,{label:e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px",marginBottom:"16px"},children:[e.jsx(u,{style:{color:"#1163C7"}}),e.jsx("span",{style:{fontWeight:"600",color:"#374151",fontSize:"16px"},children:"Select Days"}),e.jsx(X,{color:"blue",style:{marginLeft:"8px"},children:"Required"})]}),help:"Select the days when this time slot will be active",children:[e.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(120px, 1fr))",gap:"12px",padding:"20px",background:"#f8fafc",borderRadius:"12px",border:"1px solid #e2e8f0"},children:P.map(s=>e.jsxs("div",{style:{display:"flex",alignItems:"center",padding:"12px 16px",background:t[s.key]?"#1163C7":"white",borderRadius:"8px",border:`2px solid ${t[s.key]?"#1163C7":"#e2e8f0"}`,cursor:"pointer",transition:"all 0.2s ease",boxShadow:t[s.key]?"0 4px 12px rgba(17, 99, 199, 0.2)":"none"},onClick:()=>C(s.key,!t[s.key]),children:[e.jsx(_,{checked:t[s.key],onChange:a=>C(s.key,a.target.checked),style:{marginRight:"8px",color:t[s.key]?"white":"#1163C7"}}),e.jsx("span",{style:{fontSize:"14px",fontWeight:"600",color:t[s.key]?"white":"#374151"},children:s.label})]},s.key))}),e.jsx("div",{style:{marginTop:"12px",padding:"12px 16px",background:"#f0f9ff",borderRadius:"8px",border:"1px solid #e0f2fe"},children:e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[e.jsx(F,{style:{color:"#1163C7"}}),e.jsxs("span",{style:{fontSize:"14px",color:"#1e40af",fontWeight:"500"},children:["Selected Days: ",Object.values(t).filter(Boolean).length," of 7"]})]})})]})}),e.jsxs("div",{style:{textAlign:"center",padding:"32px 0",borderTop:"1px solid #f0f0f0",marginTop:"32px"},children:[e.jsx(v,{type:"primary",htmlType:"submit",loading:x,disabled:!r||x,size:"large",style:{width:"240px",height:"56px",fontSize:"18px",fontWeight:"600",borderRadius:"12px",background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",border:"none",boxShadow:"0 4px 12px rgba(102, 126, 234, 0.3)"},children:x?"Creating Time Slot...":"Create Time Slot"}),e.jsxs("div",{style:{marginTop:"16px",fontSize:"14px",color:"#6b7280"},children:[e.jsx(F,{style:{marginRight:"8px"}}),"This will create a new time slot for the selected gym"]})]})]})})]})}export{ke as default};
