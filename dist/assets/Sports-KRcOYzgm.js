import{b as x,r as a,a as f,j as t,B as d,m as k}from"./index-XzM8Cj3c.js";import{u as y}from"./useQuery-Beh9q-Hu.js";import{f as S}from"./endpointApi-onWuI-MI.js";import{u as D}from"./useFetchvendorVenues-D949lnpY.js";import{h as u}from"./moment-C5S46NFB.js";import{S as m}from"./index-Ci-vNBFy.js";import{F as I}from"./Table-Dv9gfO7j.js";import{T as _}from"./index-B9zQjaED.js";import"./useMutation-CNNl5TnA.js";import"./SearchOutlined-B0571LVy.js";import"./addEventListener-kraIZfrw.js";import"./index-V8rTfzId.js";import"./useBubbleLock-B-1WFybW.js";import"./index-BZS9dDwd.js";import"./useForm-EwlPOCpB.js";import"./extendsObject-78o_rR5W.js";import"./Input-BUj1c9yh.js";import"./useClosable-B4NhgZhJ.js";const j=s=>y({queryKey:["sportVenueList",s],queryFn:()=>S(s),keepPreviousData:!0,refetchOnWindowFocus:!1}),{Option:b}=m,J=()=>{const s=x(e=>e.auth.user.id),[r,i]=a.useState(null),n=f(),{data:o,loading:c,error:N}=D(),{data:l,loading:V,error:A}=j({vendorId:s,venueId:r});a.useEffect(()=>{o?.resutl?.length&&!r&&i(o.resutl[0].venue_id)},[o,r]);const p=()=>{n("/vendor/manage/addsport")},g=l?.result?.map(e=>({key:e.id,venueId:e.venue_id,sport:e.sports_name,description:e.description,slotsDuration:`${e.slots_duration} min`,timing:`${u(e.from_time,"HH:mm:ss").format("hh:mm A")} - ${u(e.end_time,"HH:mm:ss").format("hh:mm A")}`,bookingDuration:`${e.minimum_booking_duration} min`||"N/A",courts:e.court_count,status:e.status===1?"Active":"Inactive"})),h=[{title:"Sports",dataIndex:"sport",key:"sport"},{title:"Description",dataIndex:"description",key:"description"},{title:"Slots Duration",dataIndex:"slotsDuration",key:"slotsDuration"},{title:"Timing",dataIndex:"timing",key:"timing"},{title:"Booking Duration",dataIndex:"bookingDuration",key:"bookingDuration"},{title:"No of Courts",dataIndex:"courts",key:"courts"},{title:"Status",dataIndex:"status",key:"status",render:e=>t.jsx(_,{color:"green",children:e})},{title:"Action",key:"action",render:(e,v)=>t.jsx(d,{type:"text",icon:t.jsx(k,{style:{color:"#1163C7"}}),onClick:()=>n(`/vendor/manage/editsport/${v.key}`)})}];return t.jsxs("div",{className:"sports-page",children:[t.jsx("div",{className:"sports-header",children:t.jsxs("div",{className:"sports-controls",children:[t.jsx(m,{placeholder:"Select Venue",className:"venue-select",loading:c,onChange:e=>i(e),style:{width:250},value:r||o?.resutl?.[0]?.venue_id,children:o?.resutl?.map(e=>t.jsx(b,{value:e.venue_id,children:e.venue_name},e.venue_id))}),t.jsx(d,{type:"primary",className:"add-sport-btn",onClick:p,children:"+ ADD SPORT"})]})}),t.jsx("div",{className:"sports-table",children:t.jsx(I,{columns:h,dataSource:g,pagination:{pageSize:10}})})]})};export{J as default};
