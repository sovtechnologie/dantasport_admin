import{$ as v,b as h,r as u,a as g,j as o,B as x}from"./index-XzM8Cj3c.js";import{u as y}from"./useFetchvendorVenues-D949lnpY.js";import{u as C}from"./useQuery-Beh9q-Hu.js";import{S as f}from"./index-Ci-vNBFy.js";import{F as N}from"./Table-Dv9gfO7j.js";import"./useMutation-CNNl5TnA.js";import"./SearchOutlined-B0571LVy.js";import"./addEventListener-kraIZfrw.js";import"./index-V8rTfzId.js";import"./useBubbleLock-B-1WFybW.js";import"./index-BZS9dDwd.js";import"./useForm-EwlPOCpB.js";import"./extendsObject-78o_rR5W.js";import"./Input-BUj1c9yh.js";const V=async t=>{try{return(await v.post("vendor/court/getVendorCourtList",t))?.data}catch(r){throw console.error("Failed to fetch the court venue"),r}},j=t=>C({queryKey:["VenueCourtList",t?.venueId],queryFn:()=>V(t),enabled:!!t?.venueId}),T=()=>{const t=h(e=>e.auth.user.id),[r,s]=u.useState(null),i=g(),{data:n,loading:c,error:I}=y(),{data:d,loading:S,error:_}=j({vendorId:t,venueId:r}),a=d?.result;console.log("venueCourt",a);const l=()=>{i("/vendor/manage/addcourt")};u.useEffect(()=>{n?.resutl?.length&&!r&&s(n.resutl[0].venue_id)},[n,r]);const m=a?.map(e=>({key:e?.court_id,venue:e?.venue_name,court:e?.court_name,sport:e?.sports_name})),p=[{title:"Venue Name",dataIndex:"venue",key:"venue"},{title:"Court Name",dataIndex:"court",key:"court"},{title:"Sports Name",dataIndex:"sport",key:"sport"},{title:"Action",key:"action",render:()=>o.jsx("span",{className:"dots",children:"..."})}];return o.jsxs("div",{className:"court-table-container",children:[o.jsxs("div",{className:"court-title-bar",children:[o.jsx(f,{placeholder:"Select Venue",className:"venue-select",loading:c,onChange:e=>s(e),style:{width:250},value:r||n?.resutl?.[0]?.venue_id,children:n?.resutl?.map(e=>o.jsx(Option,{value:e.venue_id,children:e.venue_name},e.venue_id))}),o.jsx(x,{type:"primary",className:"add-btn",onClick:l,children:"+ Add Court"})]}),o.jsx(N,{className:"court-table",dataSource:m,columns:p,pagination:{pageSize:7}})]})};export{T as default};
